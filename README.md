# LiteLoaderQQNT - background-plugin

LiteLoaderQQNT插件，用于自动切换QQNT的背景图片，并自带一些CSS优化（参考自[LiteLoaderQQNT-Test-Theme](https://github.com/mo-jinran/test-theme)）。
使用前需要安装[LiteLoaderQQNT](https://github.com/mo-jinran/LiteLoaderQQNT)，并在QQNT新版上使用。

## 使用方法

clone或下载zip文件解压，保留文件夹结构（文件夹名称为`插件名`，内容为github上的内容），将文件夹移动至`LiteLoaderQQNT数据目录/plugins/`下面，重启QQNT即可。
启动QQ后会自动写入配置文件到插件目录下面的config.json，然后你对配置文件做的任何修改都会被插件实时应用（详见后文）；

你还可以通过QQ设置里的背景插件设置界面对插件进行设置（推荐这种方法，更方便，也能实时应用）。

默认加载图片的路径是插件目录下面的imgs文件夹，在QQ的设置里可以切换背景图片的目录，保存后下次更新图片时生效，目前只会读取目录同级的一些常见格式的图片文件，如下：

`const allowedExt = ["JPG", "BMP", "PNG", "WEBP", "JPEG"];  `

图片默认是居中适应，所以如果比例不对可能会不好看，尽量选择横着的图片吧~

**目前已支持从网络API获取图片，详见下面的配置文件说明。**

现在深色浅色模式会根据`@media`媒体选择器自适应啦~

目前还很简陋，代码也比较粗糙，但能用！

## 配置文件介绍

**注意：所有涉及到路径的字符串中的斜杠都是正斜杠（/）。**

*所有直接对配置文件的修改都会导致立即重置计时器并更新一张背景图，而在配置界面的修改只会立即应用修改的那一部分。*

imgDir：从哪个文件夹自动读取图片文件，仅会读取一级的图片，并不会递归读取子文件夹的哦~默认：插件目录下面的imgs文件夹。**指定单张背景图请使用imgFile参数（相较旧版本已修改）。**

imgApi：从哪个api获取网络图片，可选，可以没有这一项，但图片来源为网络图片时该项必填。从网络获取的图片必须没有防盗链，可通过GET直接访问（也就是链接放到浏览器里直接就能打开看到图片），暂不支持JSON格式返回的API（后续将支持）。

imgFile：背景图设置为哪个单独文件，可选，可以没有这一项，但图片来源为文件时该项必填。

imgSource：图片来源类型，是文件夹轮播，还是单张背景图，还是从网络api获取。可选值：folder→文件夹；file→单个文件；network→网络图片。

refreshTime：多久随机更新一次图片，单位秒。默认：600（10分钟）。

isAutoRefresh：是否自动轮播背景图。若关闭，则每次NTQQ启动仅随机一次图片，后续不再更新。

overrideImgFile：无论上面图片来源设置如何，强制使用本参数提供的图片文件路径作为背景图。这个参数是用来配合未来手动选择文件夹内某张图片作为背景图使用的（目前该功能还没有实装）。

## 协议及免责

MIT | 禁止用于任何非法用途，插件开发属学习与研究目的，仅自用，未提供给任何第三方使用。任何不当使用导致的任何侵权问题责任自负。
